<?php
/**
 * @file
 * Code for the VIU Simple FAQ feature.
 */

include_once 'viu_simple_faq.features.inc';

/** Implements hook_views_api_alter()
 *
 * Views api is specified by features but we want to add the template directory.
 */
function viu_simple_faq_views_api_alter(&$apis) {
  if (!empty($apis['viu_simple_faq']) && $apis['viu_simple_faq']['api'] == '3.0') {
    $apis['viu_simple_faq']['template path'] = drupal_get_path('module', 'viu_simple_faq') . '/templates';
  }
}

/**
 * Implements hook_panels_pane_content_alter().
 */
function viu_simple_faq_panels_pane_content_alter($content, $pane, $args, $contexts) {
  //if ($pane->subtype == 'simple_faq_views-panel_pane_1') {
    //dpm($pane);
    //dpm($content);
    //dpm($args);
    //dpm($contexts);
  //}
}

function viu_simple_faq_preprocess_panels_bootstrap_pane(&$vars) {
  if ($vars['title'] == "FAQ Categories") {
    $vars['title'] = '<span aria-hidden="true" class="icon-question"></span>&nbsp;' . $vars['title'];
  }
}
